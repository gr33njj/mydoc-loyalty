# ‚úÖ –ü–†–û–ï–ö–¢ –ì–û–¢–û–í –ö –ó–ê–ü–£–°–ö–£!

## üéâ –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å "–ú–æ—è ‚ù§ —Å–∫–∏–¥–∫–∞" –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

---

## üì¶ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ?

### ‚úÖ Backend (FastAPI + Python)

1. **–ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (PostgreSQL)**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Ä–æ–ª–∏ (admin, cashier, doctor, patient)
   - –ê–∫–∫–∞—É–Ω—Ç—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ —Å –±–∞–ª–∞–Ω—Å–∞–º–∏ (–±–∞–ª–ª—ã + –∫–µ—à–±—ç–∫)
   - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é
   - –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Å QR-–∫–æ–¥–∞–º–∏
   - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ –∫–æ–¥—ã –∏ —Å–æ–±—ã—Ç–∏—è
   - –ü—Ä–∞–≤–∏–ª–∞ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–π (CPA-–º–æ–¥–µ–ª—å)
   - –ü–æ–ª–Ω—ã–π audit trail –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

2. **REST API endpoints**
   - **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, JWT —Ç–æ–∫–µ–Ω—ã, refresh tokens
   - **–õ–æ—è–ª—å–Ω–æ—Å—Ç—å:** –±–∞–ª–∞–Ω—Å, –∏—Å—Ç–æ—Ä–∏—è, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ, —Å–ø–∏—Å–∞–Ω–∏–µ
   - **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:** —Å–æ–∑–¥–∞–Ω–∏–µ, –ø–µ—Ä–µ–¥–∞—á–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞, –ø–æ–≥–∞—à–µ–Ω–∏–µ
   - **–†–µ—Ñ–µ—Ä–∞–ª—ã:** –∫–æ–¥—ã, —Å–æ–±—ã—Ç–∏—è, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è
   - **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ:** —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
   - **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:** webhooks –¥–ª—è 1–° –∏ Bitrix24

3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
   - JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å refresh tokens
   - Password hashing (bcrypt)
   - Rate limiting
   - CORS protection
   - HTTPS only –≤ production
   - Audit logging

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**
   - 1–°:–£–ú–¶ (webhooks + REST API)
   - Bitrix24 (SSO + webhooks)
   - Email (SMTP –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤)
   - SMS (API –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)

### ‚úÖ Frontend (React + Material-UI)

1. **–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –ø–∞—Ü–∏–µ–Ω—Ç–∞**
   - Dashboard —Å –æ–±–∑–æ—Ä–æ–º –±–∞–ª–∞–Ω—Å–æ–≤
   - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ (–±–∞–ª–ª—ã, –∫–µ—à–±—ç–∫, –∏—Å—Ç–æ—Ä–∏—è)
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
   - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (–∫–æ–¥, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
   - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (mobile-friendly)

2. **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –Ω–∞ –∫–∞—Å—Å–µ
   - –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ/—Å–ø–∏—Å–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤
   - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–π

3. **–§–∏—Ä–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω**
   - –¶–≤–µ—Ç–∞ –∫–ª–∏–Ω–∏–∫–∏ (#004155, #68cdd2, #e60a41)
   - –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π —Å—Ç–∏–ª—å
   - –û–∫—Ä—É–≥–ª—ã–µ —É–≥–ª—ã, –º—è–≥–∫–∏–µ —Ç–µ–Ω–∏
   - –õ–æ–≥–æ—Ç–∏–ø —Å —Å–µ—Ä–¥–µ—á–∫–æ–º ‚ù§

### ‚úÖ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

1. **Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**
   - PostgreSQL 15
   - Redis 7
   - Backend (FastAPI)
   - Frontend (React)
   - Admin Panel (React)
   - Nginx (reverse proxy + SSL)

2. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
   - Docker Compose –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏
   - Nginx —Å HTTPS –∏ rate limiting
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
   - –°–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

3. **–î–µ–ø–ª–æ–π**
   - –ì–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `deploy.sh`
   - SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã Let's Encrypt
   - –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
   - Backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
mydoc-loyalty/
‚îú‚îÄ‚îÄ backend/                  # FastAPI backend
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ models.py            # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ schemas.py           # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ database.py          # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ routers/             # API endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py          # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ loyalty.py       # –õ–æ—è–ª—å–Ω–æ—Å—Ç—å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ certificates.py  # –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ referrals.py     # –†–µ—Ñ–µ—Ä–∞–ª—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.py         # –ê–¥–º–∏–Ω–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ integrations.py  # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ seed_data.py     # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ frontend/                # React frontend (–ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/           # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/      # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ context/         # –ö–æ–Ω—Ç–µ–∫—Å—Ç (Auth)
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ admin/                   # React admin panel
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ nginx/
‚îÇ   ‚îú‚îÄ‚îÄ nginx.conf           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx
‚îÇ   ‚îî‚îÄ‚îÄ ssl/                 # SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
‚îú‚îÄ‚îÄ docker-compose.yml       # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ deploy.sh               # –°–∫—Ä–∏–ø—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ .env.example            # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ QUICK_START.md          # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îú‚îÄ‚îÄ DEPLOYMENT_CHECKLIST.md # –ß–µ–∫–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ START_HERE.md           # –ù–∞—á–Ω–∏—Ç–µ –∑–¥–µ—Å—å
‚îî‚îÄ‚îÄ API_DOCUMENTATION.md    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
```

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ 85.92.110.173?

### **–ü–†–û–°–¢–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø:**

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   rsync -avz /tmp/mydoc-loyalty/ root@85.92.110.173:/var/www/mydoc-loyalty/
   ```

2. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É:**
   ```bash
   ssh root@85.92.110.173
   ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**
   ```bash
   curl -fsSL https://get.docker.com | sh
   apt-get install -y docker-compose certbot
   ```

4. **–ü–æ–ª—É—á–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:**
   ```bash
   certbot certonly --standalone -d it-mydoc.ru
   mkdir -p /var/www/mydoc-loyalty/nginx/ssl
   cp /etc/letsencrypt/live/it-mydoc.ru/*.pem /var/www/mydoc-loyalty/nginx/ssl/
   ```

5. **–°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª:**
   ```bash
   cd /var/www/mydoc-loyalty
   nano .env
   # –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ .env.example –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ
   ```

6. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ!**
   ```bash
   chmod +x deploy.sh
   ./deploy.sh
   ```

7. **–ì–æ—Ç–æ–≤–æ!** –û—Ç–∫—Ä–æ–π—Ç–µ https://it-mydoc.ru

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–í—Å–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ñ–∞–π–ª–∞—Ö:

1. **[START_HERE.md](./START_HERE.md)** üëà **–ù–ê–ß–ù–ò–¢–ï –û–¢–°–Æ–î–ê!**
2. [QUICK_START.md](./QUICK_START.md) - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
3. [DEPLOYMENT_CHECKLIST.md](./DEPLOYMENT_CHECKLIST.md) - –ß–µ–∫–ª–∏—Å—Ç
4. [README.md](./README.md) - –û–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
5. [API_DOCUMENTATION.md](./API_DOCUMENTATION.md) - API

---

## üîë –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏:

| –†–æ–ª—å          | Email                  | –ü–∞—Ä–æ–ª—å      |
|---------------|------------------------|-------------|
| –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä | admin@it-mydoc.ru      | admin123    |
| –ö–∞—Å—Å–∏—Ä        | cashier@it-mydoc.ru    | cashier123  |
| –î–æ–∫—Ç–æ—Ä        | doctor@it-mydoc.ru     | doctor123   |
| –ü–∞—Ü–∏–µ–Ω—Ç       | patient@it-mydoc.ru    | patient123  |

**‚ö†Ô∏è –°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞!**

---

## üåê –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

- **Frontend (–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç):** https://it-mydoc.ru
- **Admin Panel:** https://it-mydoc.ru/admin
- **API Documentation:** https://it-mydoc.ru/api/docs
- **API Redoc:** https://it-mydoc.ru/api/redoc
- **Health Check:** https://it-mydoc.ru/api/health

---

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### üéØ –õ–æ—è–ª—å–Ω–æ—Å—Ç—å
- –î–≤–∞ —Ç–∏–ø–∞ –±–∞–ª–∞–Ω—Å–æ–≤: –±–∞–ª–ª—ã –∏ –∫–µ—à–±—ç–∫
- –£—Ä–æ–≤–Ω–∏ –∫–∞—Ä—Ç: bronze, silver, gold, platinum
- –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 1–° –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è

### üéÅ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö QR-–∫–æ–¥–æ–≤
- –ü–µ—Ä–µ–¥–∞—á–∞ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ß–∞—Å—Ç–∏—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–∞—Å—Å–µ
- Email/SMS —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –†–∞–∑–ª–∏—á–Ω—ã–µ –¥–∏–∑–∞–π–Ω-—à–∞–±–ª–æ–Ω—ã

### üë• –†–µ—Ñ–µ—Ä–∞–ª—ã
- CPA-–º–æ–¥–µ–ª—å (—Ñ–∏–∫—Å/–ø—Ä–æ—Ü–µ–Ω—Ç/–±–∞–ª–ª—ã)
- –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∫–æ–Ω–≤–µ—Ä—Å–∏—è
- –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ –∏ –≤—Ä–∞—á–µ–π

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è + refresh tokens
- Bcrypt —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- Rate limiting –Ω–∞ API
- HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –≤ production
- Audit trail –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- CORS –∑–∞—â–∏—Ç–∞

### üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **1–°:–£–ú–¶:** Webhooks –¥–ª—è –≤–∏–∑–∏—Ç–æ–≤ –∏ –æ–ø–ª–∞—Ç
- **Bitrix24:** SSO –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π
- **Email:** –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ SMTP
- **SMS:** –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ SMS.RU API

---

## üìä API Endpoints

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `POST /api/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/auth/login` - –í—Ö–æ–¥
- `POST /api/auth/refresh` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- `GET /api/auth/me` - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

### –õ–æ—è–ª—å–Ω–æ—Å—Ç—å
- `GET /api/loyalty/balance` - –ë–∞–ª–∞–Ω—Å
- `GET /api/loyalty/transactions` - –ò—Å—Ç–æ—Ä–∏—è
- `POST /api/loyalty/accrue` - –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ
- `POST /api/loyalty/deduct` - –°–ø–∏—Å–∞–Ω–∏–µ

### –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- `POST /api/certificates/create` - –°–æ–∑–¥–∞–Ω–∏–µ
- `GET /api/certificates/{id}` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `POST /api/certificates/transfer` - –ü–µ—Ä–µ–¥–∞—á–∞
- `POST /api/certificates/verify` - –ü—Ä–æ–≤–µ—Ä–∫–∞ QR
- `POST /api/certificates/redeem` - –ü–æ–≥–∞—à–µ–Ω–∏–µ

### –†–µ—Ñ–µ—Ä–∞–ª—ã
- `GET /api/referrals/my-code` - –ú–æ–π –∫–æ–¥
- `POST /api/referrals/register-event` - –°–æ–±—ã—Ç–∏–µ
- `GET /api/referrals/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `GET /api/referrals/rewards` - –í–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è

**üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://it-mydoc.ru/api/docs

---

## üé® –î–∏–∑–∞–π–Ω

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
- **#004155** - –û—Å–Ω–æ–≤–Ω–æ–π (—Ç–µ–º–Ω–æ-–±–∏—Ä—é–∑–æ–≤—ã–π)
- **#68cdd2** - –í—Ç–æ—Ä–∏—á–Ω—ã–π (—Å–≤–µ—Ç–ª–æ-–±–∏—Ä—é–∑–æ–≤—ã–π)
- **#e60a41** - –ê–∫—Ü–µ–Ω—Ç (–∫—Ä–∞—Å–Ω—ã–π, —Å–µ—Ä–¥—Ü–µ ‚ù§)
- **#e5eef2** - –§–æ–Ω

### –°—Ç–∏–ª—å
- –ú–∏–Ω–∏–º–∞–ª–∏–∑–º
- –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Å—Ç—Ä–æ–≥–æ—Å—Ç—å
- –û–∫—Ä—É–≥–ª—ã–µ —É–≥–ª—ã (12-16px)
- –ú—è–≥–∫–∏–µ —Ç–µ–Ω–∏
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- Python 3.11+
- FastAPI 0.104
- SQLAlchemy 2.0
- PostgreSQL 15
- Redis 7
- Alembic (–º–∏–≥—Ä–∞—Ü–∏–∏)
- JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- QRCode –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

### Frontend
- React 18
- Material-UI 5
- Axios
- React Router 6
- Context API

### DevOps
- Docker & Docker Compose
- Nginx
- Let's Encrypt SSL
- Ubuntu Server

---

## üìù TODO –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

1. ‚úÖ –°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
2. ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å 1–°:–£–ú–¶
3. ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Bitrix24
4. üìß –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SMTP –¥–ª—è email
5. üì± –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SMS-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
6. üîÑ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup –ë–î
7. üìä –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
8. üé® –î–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–æ—Ç–∏–ø logo.png
9. üìã –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–æ–Ω—É—Å–æ–≤
10. üß™ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏

---

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose ps

# –õ–æ–≥–∏
docker-compose logs -f backend

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
curl https://it-mydoc.ru/api/health
```

### –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:** `docker-compose logs backend`
2. **–û—à–∏–±–∫–∞ SSL:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤ `nginx/ssl/`
3. **–ë–î –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∞:** `docker-compose restart postgres`
4. **–û—à–∏–±–∫–∞ 502:** Backend –Ω–µ –∑–∞–ø—É—â–µ–Ω, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

**–°–µ—Ä–≤–µ—Ä:** 85.92.110.173  
**–î–æ–º–µ–Ω:** it-mydoc.ru  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞:** –°–µ–Ω—Ç—è–±—Ä—å 2025

---

## üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å **"–ú–æ—è ‚ù§ —Å–∫–∏–¥–∫–∞"** –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É!

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ **[START_HERE.md](./START_HERE.md)** –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.

**–£–¥–∞—á–∏! üöÄ**

