# ðŸš€ Ð—ÐÐŸÐ£Ð¡Ðš ÐÐ Ð¡Ð•Ð Ð’Ð•Ð Ð• 85.92.110.173

## Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1: ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð´ÐµÐ¿Ð»Ð¾Ð¹ (Ð Ð•ÐšÐžÐœÐ•ÐÐ”Ð£Ð•Ð¢Ð¡Ð¯)

Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÑÑ‚Ð¾Ñ‚ ÑÐºÑ€Ð¸Ð¿Ñ‚ **Ñ Ð²Ð°ÑˆÐµÐ³Ð¾ ÐºÐ¾Ð¼Ð¿ÑŒÑŽÑ‚ÐµÑ€Ð°**:

```bash
cd /tmp/mydoc-loyalty
./remote-deploy.sh
```

Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸:
- âœ… Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐµÑ‚ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€
- âœ… Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ Docker Ð¸ Docker Compose
- âœ… ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ SSL ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚
- âœ… Ð¡Ð¾Ð·Ð´Ð°ÑÑ‚ .env Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ñ‹Ð¼Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑÐ¼Ð¸
- âœ… Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ Ð²ÑÐµ ÑÐµÑ€Ð²Ð¸ÑÑ‹
- âœ… Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÑ‚ Ð‘Ð” Ñ‚ÐµÑÑ‚Ð¾Ð²Ñ‹Ð¼Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸
- âœ… ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ Ð°Ð²Ñ‚Ð¾Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ SSL Ð¸ backup

---

## Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 2: Ð ÑƒÑ‡Ð½Ð¾Ð¹ Ð´ÐµÐ¿Ð»Ð¾Ð¹

Ð•ÑÐ»Ð¸ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð½Ðµ ÑÑ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚, Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ:

### Ð¨Ð°Ð³ 1: Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€

```bash
rsync -avz /tmp/mydoc-loyalty/ root@85.92.110.173:/var/www/mydoc-loyalty/
```

### Ð¨Ð°Ð³ 2: ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÐµÑÑŒ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ

```bash
ssh root@85.92.110.173
```

### Ð¨Ð°Ð³ 3: Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Docker

```bash
curl -fsSL https://get.docker.com | sh
apt-get install -y docker-compose certbot
```

### Ð¨Ð°Ð³ 4: ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ SSL ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚

```bash
certbot certonly --standalone -d it-mydoc.ru \
  --agree-tos --non-interactive --email admin@it-mydoc.ru

mkdir -p /var/www/mydoc-loyalty/nginx/ssl
cp /etc/letsencrypt/live/it-mydoc.ru/*.pem /var/www/mydoc-loyalty/nginx/ssl/
```

### Ð¨Ð°Ð³ 5: Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ .env Ñ„Ð°Ð¹Ð»

```bash
cd /var/www/mydoc-loyalty

cat > .env << 'EOF'
DB_PASSWORD=MyDoc2025SecurePassword!
JWT_SECRET=$(openssl rand -hex 32)
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
DOMAIN=it-mydoc.ru
BITRIX_API_URL=
BITRIX_WEBHOOK=
ONEC_API_URL=
ONEC_USERNAME=
ONEC_PASSWORD=
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMS_API_KEY=
DEBUG=False
ENVIRONMENT=production
EOF

chmod 600 .env
```

### Ð¨Ð°Ð³ 6: Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÑÐµÑ€Ð²Ð¸ÑÑ‹

```bash
cd /var/www/mydoc-loyalty
chmod +x deploy.sh
./deploy.sh
```

---

## ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹

ÐŸÐ¾ÑÐ»Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ:

```bash
# Ð¡Ñ‚Ð°Ñ‚ÑƒÑ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð²
docker-compose ps

# Ð›Ð¾Ð³Ð¸
docker-compose logs -f backend

# Health check
curl https://it-mydoc.ru/api/health
```

---

## Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÑÐµÑ€Ð²Ð¸ÑÐ°Ð¼

- **Frontend:** https://it-mydoc.ru
- **Admin Panel:** https://it-mydoc.ru/admin
- **API Docs:** https://it-mydoc.ru/api/docs

---

## Ð¢ÐµÑÑ‚Ð¾Ð²Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ

| Ð Ð¾Ð»ÑŒ | Email | ÐŸÐ°Ñ€Ð¾Ð»ÑŒ |
|------|-------|--------|
| ÐÐ´Ð¼Ð¸Ð½ | admin@it-mydoc.ru | admin123 |
| ÐšÐ°ÑÑÐ¸Ñ€ | cashier@it-mydoc.ru | cashier123 |
| ÐŸÐ°Ñ†Ð¸ÐµÐ½Ñ‚ | patient@it-mydoc.ru | patient123 |

âš ï¸ **Ð¡Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»Ð¸ Ð¿Ð¾ÑÐ»Ðµ Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ Ð²Ñ…Ð¾Ð´Ð°!**

---

## Ð£ÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼

### ÐžÑˆÐ¸Ð±ÐºÐ° SSL
```bash
certbot renew --force-renewal
cp /etc/letsencrypt/live/it-mydoc.ru/*.pem /var/www/mydoc-loyalty/nginx/ssl/
docker-compose restart nginx
```

### ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ Ð½Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ
```bash
docker-compose logs backend
docker-compose down
docker-compose up -d --build
```

### Ð‘Ð” Ð½Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð°
```bash
docker-compose restart postgres
docker-compose exec postgres pg_isready
```

---

## ðŸŽ‰ Ð“Ð¾Ñ‚Ð¾Ð²Ð¾!

ÐŸÐ¾ÑÐ»Ðµ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾Ð³Ð¾ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð¾Ñ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ https://it-mydoc.ru Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ!
